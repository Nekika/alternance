(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{397:function(e,r,t){"use strict";t.r(r);var s=t(42),n=Object(s.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"qgis-server"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qgis-server"}},[e._v("#")]),e._v(" QGIS Server")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://docs.qgis.org/3.10/en/docs/user_manual/working_with_ogc/server/index.html#label-qgisserver",target:"_blank",rel:"noopener noreferrer"}},[e._v("QGIS Server"),t("OutboundLink")],1),e._v(" est un module qui permet de se servir de QGIS comme "),t("strong",[e._v("serveur de données géospatiales")]),e._v(".")]),e._v(" "),t("p",[e._v("Il offre la possibilité de "),t("strong",[e._v("générer")]),e._v(" des "),t("strong",[e._v("Web services")]),e._v(" à partir d'un projet QGIS.")]),e._v(" "),t("p",[e._v("C'est un outil très intéressant puisqu'en l'utilisant on s'affranchit du développement de nos propres services et on s'assure d'obtenir un "),t("strong",[e._v("résultat standardisé")]),e._v(".")]),e._v(" "),t("p",[e._v("Il suffit simplement de l'installer, de le configurer sur un serveur Web et de lui fournir un projet QGIS.")]),e._v(" "),t("h2",{attrs:{id:"flux-wms-wfs"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#flux-wms-wfs"}},[e._v("#")]),e._v(" Flux WMS/WFS")]),e._v(" "),t("p",[e._v("Comme annoncé précédemmenent, l'objectif de QGIS Server est de "),t("strong",[e._v("générer")]),e._v(" des "),t("strong",[e._v("Web services")]),e._v(" depuis un projet QGIS.")]),e._v(" "),t("p",[e._v("Ces Web services sont "),t("strong",[e._v("standardisés")]),e._v(" par "),t("a",{attrs:{href:"https://www.ogc.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("l'OGC"),t("OutboundLink")],1),e._v(" et ceux que l'on utilise le plus souvent sont le "),t("strong",[e._v("Web Map Service")]),e._v(" (WMS) et le "),t("strong",[e._v("Web Feature Service")]),e._v(" (WFS).")]),e._v(" "),t("p",[e._v("Ils permettent principalement de "),t("strong",[e._v("mettre à disposition")]),e._v(" les données des couches et de leurs entités via le "),t("strong",[e._v("Web")]),e._v(".")]),e._v(" "),t("p",[e._v("Ainsi, par le biais de "),t("strong",[e._v("requêtes HTTP")]),e._v(", il est possible de "),t("strong",[e._v("récupérer")]),e._v(" ou "),t("strong",[e._v("mettre à jour")]),e._v(" les données.")]),e._v(" "),t("h2",{attrs:{id:"configuration-serveur"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuration-serveur"}},[e._v("#")]),e._v(" Configuration serveur")]),e._v(" "),t("p",[e._v("Le module peut être installé sur un "),t("strong",[e._v("serveur Web")]),e._v(" classique tel que "),t("a",{attrs:{href:"http://httpd.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[t("strong",[e._v("Apache")]),t("OutboundLink")],1),e._v(" ou "),t("a",{attrs:{href:"https://www.nginx.com/",target:"_blank",rel:"noopener noreferrer"}},[t("strong",[e._v("NGINX")]),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("Pour la configuration, il suffit de suivre l'exemple détaillé dans la "),t("a",{attrs:{href:"https://docs.qgis.org/3.10/en/docs/training_manual/qgis_server/install.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation officielle"),t("OutboundLink")],1),e._v(" de "),t("strong",[e._v("QGIS Server")]),e._v(".")]),e._v(" "),t("h2",{attrs:{id:"servir-un-projet-qgis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#servir-un-projet-qgis"}},[e._v("#")]),e._v(" Servir un projet QGIS")]),e._v(" "),t("p",[e._v("QGIS Server va récupérer les données contenues dans un projet QGIS afin de créer des "),t("strong",[e._v("flux WMS/WFS")]),e._v(".")]),e._v(" "),t("p",[e._v("Dans le cas où les couches sont importées depuis une "),t("strong",[e._v("base de données")]),e._v(" telle que "),t("strong",[e._v("PostGIS")]),e._v(", QGIS Server aura recours à la "),t("strong",[e._v("configuration de la couche")]),e._v(" pour se connecter à la base de données et récupérer les informations (cf. "),t("a",{attrs:{href:"/prerequis/qgis#postgis"}},[e._v("présentation de QGIS")]),e._v(").")]),e._v(" "),t("p",[e._v("Pour indiquer à QGIS Server le projet à partir duquel il doit générer des Web services, deux options sont disponibles :")]),e._v(" "),t("h3",{attrs:{id:"par-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#par-configuration"}},[e._v("#")]),e._v(" Par configuration")]),e._v(" "),t("p",[e._v("Lors de la configuration de QGIS Server, il est possible d'ajouter une ligne dans le "),t("strong",[e._v("fichier de configuration")]),e._v(" du serveur Web fin de spécifier le projet à utiliser par défaut :")]),e._v(" "),t("div",{staticClass:"language-apacheconf extra-class"},[t("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[t("code",[t("span",{pre:!0,attrs:{class:"token directive-block tag"}},[t("span",{pre:!0,attrs:{class:"token directive-block tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token directive-block-parameter attr-value"}},[e._v(" *"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("80")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n  ...\n  FcgidInitialEnv QGIS_PROJET_FILE /chemin/vers/le/projet.qgs\n  ...\n"),t("span",{pre:!0,attrs:{class:"token directive-block tag"}},[t("span",{pre:!0,attrs:{class:"token directive-block tag"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("VirtualHost")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),t("p",[e._v("Cette option est très pratique lorsque QGIS Server est destiné à ne servir qu'un seul projet.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[e._v("Note")]),e._v(" "),t("p",[e._v("Spécifier un projet par défaut n'implique pas que ce projet sera le seul capable d'être servi par QGIS Server.")]),e._v(" "),t("p",[e._v("Dans le cas où un projet par défaut est défini dans la configuration, il faut utiliser la méthode "),t("strong",[e._v("par paramètre de requête HTTP")]),e._v(" ci-dessous pour indiquer à QGIS Server le chemin vers le projet à servir.")])]),e._v(" "),t("h3",{attrs:{id:"par-parametre-de-requete-http"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#par-parametre-de-requete-http"}},[e._v("#")]),e._v(" Par paramètre de requête HTTP")]),e._v(" "),t("p",[e._v("Si l'on préfère indiquer à QGIS Server le chemin vers le projet au moment où on effectue une "),t("strong",[e._v("requête HTTP")]),e._v(", il est possible d'ajouter le "),t("strong",[e._v("paramètre "),t("code",[e._v("MAP")])]),e._v(" dans l'URL :")]),e._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://qgis.server.dev?MAP=/chemin/vers/le/projet.qgs&SERVICE=WFS"')]),e._v("\n")])])])])}),[],!1,null,null,null);r.default=n.exports}}]);